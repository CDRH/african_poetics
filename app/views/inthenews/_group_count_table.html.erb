<%# expects
    facet: the facet and query param in question
      like "topics" or "creator.name"
    path - link helper path
%>

<table>
  <body>
    <% collection = @facets[facet] %>
    <% collection.each do |label, count| %>
      <% label = "Unknown" if label.nil? %>
      <% url = send(path, { "f" => ["#{facet}|#{label}"] }) %>
      <tr>
        <td class="index_name"><%= link_to label, url %></td>
        <td class="index_spacer">
          <%= link_to url do %>
            <span></span>
          <% end %>
        </td>
        <td class="index_num"><%= link_to count, url %></td>
      </tr>
    <% end %>
  </body>
</table>
